<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - OnicByte</title>

    <!-- css links -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <!-- css links end -->

</head>

<body class="dashboard-body">

    <!-- header -->
    <nav class="navbar d-none d-md-block fixed-top navbar-dark z-1">
        <div class="container-fluid">
            <div class="w-100 d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                    <a class="navbar-brand fs-2 fw-bold ms-5 me-4 me-lg-5 pe-lg-5" href="#">OnicByte</a>
                    <form class="d-flex ms-lg-5 ms-2" role="search">
                        <input class="form-control me-2 my-2 rounded-3" type="search" placeholder="Search"
                            aria-label="Search">
                    </form>
                </div>
                <div class="d-flex align-items-center gap-3 gap-lg-5">
                    <ul class="navbar-nav d-flex flex-row gap-3 ms-auto ">
                        <li class="nav-item">
                            <a class="nav-link" href="#">Language</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Reports</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Projects</a>
                        </li>
                    </ul>
                    <div class="icons d-flex align-items-center gap-2 me-2 ms-lg-5">
                        <a href="#"><svg width="17" height="18" viewBox="0 0 17 18" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M8.53149 0.839844C6.77633 0.839844 5.41205 0.839844 4.35002 0.968065C3.27586 1.09885 2.42518 1.36983 1.74645 1.98187C1.04953 2.61101 0.723803 3.42907 0.570028 4.46082C0.423828 5.44556 0.423828 6.69872 0.423828 8.26131V8.41774C0.423828 9.94101 0.423828 10.995 0.575331 11.7806C0.657142 12.2037 0.785919 12.5713 0.988175 12.9115C1.18816 13.2466 1.44268 13.5287 1.74645 13.8022C2.22444 14.2339 2.78803 14.4946 3.45388 14.657V16.8675C3.45397 16.9799 3.48021 17.0902 3.52997 17.1875C3.57973 17.2848 3.65126 17.3656 3.73741 17.4218C3.82356 17.4781 3.92129 17.5078 4.02083 17.5081C4.12037 17.5083 4.21821 17.479 4.30457 17.4232C4.74847 17.1368 5.14162 16.8248 5.50144 16.5308L5.73172 16.3418C5.98795 16.1254 6.24965 15.9173 6.5165 15.7178C7.15584 15.2494 7.7664 14.9442 8.56709 14.9442H8.60269C10.3578 14.9442 11.7221 14.9442 12.7842 14.816C13.8583 14.6852 14.709 14.4142 15.3877 13.8022C15.6907 13.5287 15.946 13.2466 16.1452 12.9115C16.3483 12.5713 16.477 12.2037 16.5588 11.7806C16.7103 10.995 16.7104 9.94101 16.7104 8.41774V8.26131C16.7104 6.69872 16.7103 5.44556 16.5641 4.46168C16.4104 3.42907 16.0846 2.61101 15.3877 1.98187C14.709 1.36897 13.8583 1.09885 12.7842 0.96892C11.7221 0.839844 10.3578 0.839844 8.60269 0.839844H8.53149Z"
                                    fill="white" />
                            </svg></a>
                        <a href="#"><svg width="17" height="16" viewBox="0 0 17 16" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M8.17646 0.839844C6.48505 0.839844 4.86292 1.40337 3.66691 2.40646C2.47091 3.40954 1.799 4.77002 1.799 6.1886V8.88437C1.79913 9.0029 1.76638 9.11983 1.70334 9.22592L0.139035 11.8491C0.0626208 11.9773 0.0265385 12.1197 0.0342156 12.2628C0.0418926 12.406 0.0930739 12.5451 0.182899 12.667C0.272723 12.7888 0.398208 12.8894 0.547436 12.9592C0.696664 13.029 0.86468 13.0656 1.03552 13.0656H15.3174C15.4882 13.0656 15.6563 13.029 15.8055 12.9592C15.9547 12.8894 16.0802 12.7888 16.17 12.667C16.2599 12.5451 16.311 12.406 16.3187 12.2628C16.3264 12.1197 16.2903 11.9773 16.2139 11.8491L14.6505 9.22592C14.5871 9.1199 14.5541 9.00296 14.5539 8.88437V6.1886C14.5539 4.77002 13.882 3.40954 12.686 2.40646C11.49 1.40337 9.86787 0.839844 8.17646 0.839844ZM8.17646 15.3579C7.61101 15.3581 7.05938 15.2113 6.5976 14.9376C6.13582 14.6639 5.78663 14.2768 5.59815 13.8297H10.7548C10.5663 14.2768 10.2171 14.6639 9.75533 14.9376C9.29355 15.2113 8.74192 15.3581 8.17646 15.3579Z"
                                    fill="white" />
                            </svg></a>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <!-- header End -->

    <!-- Sidebar -->
    <nav class="navbar sidebar navbar-expand-md navbar-dark fixed-top z-0">
        <div class="container px-0 h-100">
            <a class="navbar-brand d-md-none" href="#">OnicByte</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse d-md-flex flex-md-column h-100 justify-content-between mt-3 mt-md-0"
                id="navbarNav">
                <ul class="navbar-nav d-flex flex-column w-100 align-items-start ps-5">
                    <li class="nav-item sidebar-active w-100 ">
                        <a class="nav-link" href="index.html"><img class="pe-2 d-none d-md-inline"
                                src="images/icons/overview tab.svg" alt="img">Overview</a>
                    </li>
                    <li class="nav-item w-100 ">
                        <a class="nav-link" href="teachers.html"><img class="pe-2 d-none d-md-inline"
                                src="images/icons/teacher tab.svg" alt="img">Teachers</a>
                    </li>
                    <li class="nav-item w-100 ">
                        <a class="nav-link" href="students.html"><img class="pe-2 d-none d-md-inline"
                                src="images/icons/student tab.svg" alt="img">Students</a>
                    </li>
                    <li class="nav-item w-100 ">
                        <a class="nav-link" href="employee.html"><img class="pe-2 d-none d-md-inline"
                                src="images/icons/employ tab.svg" alt="img">Employee</a>
                    </li>
                    <li class="nav-item w-100 ">
                        <a class="nav-link" href="interns.html"><img class="pe-2 d-none d-md-inline"
                                src="images/icons/employ tab.svg" alt="img">Interns</a>
                    </li>
                    <li class="nav-item w-100 ">
                        <a class="nav-link" href="projects.html"><img class="pe-2 d-none d-md-inline"
                                src="images/icons/employ tab.svg" alt="img">Projects</a>
                    </li>
                    <li class="nav-item w-100 ">
                        <a class="nav-link" href="courses.html"><img class="pe-2 d-none d-md-inline"
                                src="images/icons/employ tab.svg" alt="img">Courses</a>
                    </li>
                </ul>
                <div class="support d-flex flex-column mb-5">
                    <a class="nav-link d-none d-md-inline" href="#"><img class="pe-2" src="images/icons/help.svg"
                            alt="img">Help</a>
                    <a class="nav-link d-none d-md-inline" href="#"><img class="pe-2" src="images/icons/support.svg"
                            alt="img">Support</a>
                </div>
            </div>
        </div>
    </nav>
    <!-- Sidebar End -->

    <!-- Main Content -->
    <main>
        <div class="container pb-5">
            <h3 class="text-brand mt-3 ms-2 mb-0">Welcome to OnicByte</h3>
            <p class="ms-2 mt-0">Measure How Fast You're Growing Monthly Recurring Revenue</p>
            <!-- status Cards -->
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-6 gap-2 g-4 status-cards mx-auto">
                <!-- Card 1 -->
                <div
                    class="col d-flex align-items-center justify-content-center flex-fill rounded-3 dashboard-status-card">
                    <div class="my-2">
                        <img class="ms-2 ps-1" src="images/icons/user.svg" alt="user">
                        <h5 class="mt-1">Users</h5>
                    </div>
                </div>

                <!-- Card 2 -->
                <div
                    class="col d-flex align-items-center justify-content-center flex-fill rounded-3 dashboard-status-card">
                    <div class="my-2">
                        <img class="ms-2 ps-1" src="images/icons/thumb.svg" alt="icon">
                        <h5 class="mt-1">Holidays</h5>
                    </div>
                </div>

                <!-- Card 3 -->
                <div
                    class="col d-flex align-items-center justify-content-center flex-fill rounded-3 dashboard-status-card">
                    <div class="my-2">
                        <img class="ms-2 ps-1" src="images/icons/trophy.svg" alt="icon">
                        <h5 class="mt-1">Events</h5>
                    </div>
                </div>

                <!-- Card 4 -->
                <div
                    class="col d-flex align-items-center justify-content-center flex-fill rounded-3 dashboard-status-card">
                    <div class="my-2">
                        <img class="ms-2 ps-1" src="images/icons/payrol.svg" alt="icon">
                        <h5 class="mt-1">Payrol</h5>
                    </div>
                </div>

                <!-- Card 5 -->
                <div
                    class="col d-flex align-items-center justify-content-center flex-fill rounded-3 dashboard-status-card">
                    <div class="my-2">
                        <img class="ms-2 ps-1" src="images/icons/accounts.svg" alt="icon">
                        <h5 class="mt-1">Accounts</h5>
                    </div>
                </div>
            </div>
            <!-- status Cards End-->

            <!-- Charts -->
            <div class="container py-3 px-0">
                <div class="row g-3">
                    <!-- Salary Chart -->
                    <div class="col-md-6 col-12">
                        <div class="rounded dashboard-chart-card p-3">
                            <p>Salary Statistics</p>
                            <div class="chart-container" id="salaryChartContainer">
                                <canvas id="salaryChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Revenue Chart -->
                    <div class="col-md-3 col-12">
                        <div class="rounded dashboard-chart-card p-3">
                            <p>Revenue</p>
                            <div class="chart-container" id="revenueChartContainer">
                                <canvas id="revenueChart"></canvas>
                                <div class="center-text" id="revenueCenterText">90%</div>
                            </div>
                        </div>
                    </div>

                    <!-- Balance Chart (no data shown, placeholder) -->
                    <div class="col-md-3 col-12">
                        <div class="rounded dashboard-chart-card p-3">
                            <p>My balance</p>
                        </div>
                    </div>

                    <!-- Employee Satisfaction Chart -->
                    <div class="col-md-6 col-12">
                        <div class="rounded dashboard-chart-card p-3">
                            <p>Employee Satisfaction</p>
                            <div class="chart-container" id="employeeSatisfactionChartContainer">
                                <canvas id="employeeSatisfactionChart"></canvas>
                            </div>
                        </div>
                    </div>

                    <!-- Performance and Growth Charts (placeholders) -->
                    <div class="col-md-3 col-12">
                        <div class="rounded dashboard-chart-card p-3">
                            <p>Performance</p>
                        </div>
                    </div>
                    <div class="col-md-3 col-12">
                        <div class="rounded dashboard-chart-card p-3">
                            <p>Growth</p>
                            <canvas id="growthChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Charts End -->


            <!-- Project summary -->
            <div class="bg-white p-4 shadow rounded-2">
                <h2 class="fs-5 mt-2 mb-4">Project Summary</h2>
                <div class="table-responsive">
                    <table class="table table-hover border-0">
                        <thead>
                            <tr class="border-0 table-content-row">
                                <th class="border-0">#</th>
                                <th class="border-0">CLIENT NAME</th>
                                <th class="border-0">TEAM</th>
                                <th class="border-0">PROJECT</th>
                                <th class="border-0">PROJECT COST</th>
                                <th class="border-0">PAYMENT</th>
                                <th class="border-0">STATUS</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-0 table-content-row">
                                <td class="border-0">#AD1245</td>
                                <td class="border-0">Sean Black</td>
                                <td class="border-0">BS Software</td>
                                <td class="border-0">Angular Admin</td>
                                <td class="border-0">$14,500</td>
                                <td class="text-center border-0">Done</td>
                                <td class="text-center border-0">
                                    <p class="btn btn-success mb-0 py-0">Deliverd</p>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- Project summary END -->

        </div>
    </main>
    <!-- Main Content End -->


    <!-- js links -->
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- Chart.js Script -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script>
        var ctx = document.getElementById('salaryChart').getContext('2d');

        var chart = new Chart(ctx, {
            type: 'bar',  // Define chart type as 'bar'
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], // 12 months labels
                datasets: [{
                    label: 'Dataset 1',   // First group of bars
                    data: [20, 45, 80, 65, 90, 40, 85, 55, 60, 80, 70, 65],  // Data for first group
                    backgroundColor: '#005AA7',  // Color for the bars
                    borderWidth: 1
                },
                {
                    label: 'Dataset 2',   // Second group of bars
                    data: [50, 75, 60, 90, 110, 60, 95, 70, 80, 65, 90, 85],  // Data for second group
                    backgroundColor: '#033D6E',  // Color for the bars
                    borderWidth: 1
                },
                {
                    label: 'Dataset 3',   // Third group of bars
                    data: [30, 55, 70, 100, 80, 75, 90, 95, 70, 100, 85, 70],  // Data for third group
                    backgroundColor: '#005AA7',  // Color for the bars
                    borderWidth: 1
                }
                ]
            },
            options: {
                scales: {
                    x: {
                        stacked: false,  // Ensure bars are grouped, not stacked
                        ticks: {
                            autoSkip: false,  // Display all month labels
                        }
                    },
                    y: {
                        beginAtZero: true,  // Start y-axis from 0
                        ticks: {
                            stepSize: 30,  // Set the step size for y-axis (i.e., 0, 30, 60, 90, 120)
                            max: 120,  // Set maximum value for y-axis
                        }
                    }
                },
                responsive: true,
            }
        });


        // Revenue Donut Chart
        var ctx = document.getElementById('revenueChart').getContext('2d');

        // Dynamic revenue data (you can modify this based on your dynamic values)
        var revenueData = [70, 30]; // 70% revenue and 30% remainder

        // Create the chart
        var revenueChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Revenue'],
                datasets: [{
                    label: 'Revenue Distribution',
                    data: revenueData,
                    backgroundColor: ['#033D6E', '#e1e1e1'],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                cutout: '70%', // Makes the doughnut thinner (cutout to 70%)
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    tooltip: {
                        callbacks: {
                            label: function (tooltipItem) {
                                return tooltipItem.label + ': ' + tooltipItem.raw + '%';  // Show percentage in tooltip
                            }
                        }
                    },
                    datalabels: {
                        display: false, // Disable default data labels
                    }
                }
            }
        });

        // Simulating an API call that returns the revenue percentage data
        function fetchRevenueData() {
            return new Promise((resolve) => {
                // Simulate an API call with setTimeout (replace this with actual API call)
                setTimeout(function () {
                    // For demo purposes, we are returning the following dynamic value
                    // Replace this logic with actual API response (e.g., fetch/axios call)
                    const revenue = Math.floor(Math.random() * 100);  // Random value between 0-100
                    resolve(revenue);
                }, 1000); // Simulate delay (1 second)
            });
        }

        // Function to update the revenue chart and center text
        function updateRevenueData(revenuePercentage) {
            // Update the doughnut chart data
            var revenueData = [revenuePercentage, 100 - revenuePercentage]; // New data
            revenueChart.data.datasets[0].data = revenueData;  // Update chart dataset
            revenueChart.update();  // Redraw chart with new data

            // Update the center text
            document.getElementById('revenueCenterText').textContent = revenuePercentage + '%';
        }

        // Function to simulate fetching the revenue data every 3 seconds and updating the chart
        function updateRevenueEveryFewSeconds() {
            setInterval(function () {
                // Fetch revenue data from the API (or simulate API response)
                fetchRevenueData().then((revenuePercentage) => {
                    // Update the chart and center text with the new revenue data
                    updateRevenueData(revenuePercentage);
                });
            }, 10000);  // Update every 3 seconds
        }

        // Start updating the revenue data every few seconds
        updateRevenueEveryFewSeconds();

        // Employee Satisfaction Line Chart
        var ctx3 = document.getElementById('employeeSatisfactionChart').getContext('2d');

        // Create gradient for the background
        var gradient = ctx3.createLinearGradient(0, 0, 0, 400); // Creates a vertical gradient
        gradient.addColorStop(0, 'rgba(0, 90, 167, 1)');
        gradient.addColorStop(1, 'rgba(106, 175, 235, 0.5)');
        // Create the chart
        var employeeSatisfactionChart = new Chart(ctx3, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                datasets: [{
                    label: 'Satisfaction (%)',
                    data: [35, 68, 50, 85, 72, 78],
                    fill: true, // Enable filling under the line
                    backgroundColor: gradient, // Apply gradient as background
                    borderColor: '#005AA7', // Line color
                    borderWidth: 2,
                    tension: 0.4
                }]
            },
            options: {
                responsive: true,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100
                    }
                }
            }
        });

        // Get the context of the canvas element
        var ctx4 = document.getElementById('growthChart').getContext('2d');

        // Create the Doughnut Chart with three datasets
        var growthChart = new Chart(ctx4, {
            type: 'doughnut', // Define chart type as doughnut
            data: {
                labels: ['Dataset 1', 'Dataset 2', 'Dataset 3'], // Labels for each dataset
                datasets: [{
                    label: 'Growth Distribution',
                    data: [40, 30, 30], // Values for each dataset (sum of 100% for a full doughnut)
                    backgroundColor: ['#D21DB1', '#534FEB', '#F45C87'], // Different colors for each segment
                    borderWidth: 1, // Border width of the segments
                }]
            },
            options: {
                responsive: true, // Makes the chart responsive
                cutout: '70%', // Makes the doughnut thinner (cutout to 70%)
                plugins: {
                    legend: {
                        position: 'top', // Position of the legend
                    },
                    tooltip: {
                        callbacks: {
                            label: function (tooltipItem) {
                                return tooltipItem.label + ': ' + tooltipItem.raw + '%'; // Display percentage in tooltip
                            }
                        }
                    }
                }
            }
        });

    </script>
    <!-- js links end -->
</body>

</html>